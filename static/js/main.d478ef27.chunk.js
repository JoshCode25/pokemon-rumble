(this["webpackJsonppokemon-rumble"]=this["webpackJsonppokemon-rumble"]||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(7),l=a.n(s),c=(a(15),a(8)),o=a(1),i=a.n(o),u=a(3),p=a(4),m=a(5),v=a(10),d=a(9),h=(a(17),a(0)),b=function(e){var t=e.updateDisplay,a=e.submitInput,n=e.levelUp;return Object(h.jsxs)("div",{className:"pa2 flex justify-center",children:[Object(h.jsx)("input",{className:"pa3 ba b--green bg-lightest-blue",id:"searchIdentifier",type:"search",placeholder:"Name/Id",onChange:t,onBlur:t}),Object(h.jsx)("input",{className:"pa3 ba b--green bg-lightest-blue",id:"searchLevel",type:"number",min:"1",max:"100",placeholder:"Level",onChange:t,onBlur:t}),Object(h.jsx)("input",{type:"button",value:"submit",onClick:a}),Object(h.jsx)("input",{type:"button",value:"Level Up",onClick:n})]})},f=function(e){var t=e.name,a=e.id,n=e.level;return Object(h.jsxs)("div",{className:"grow ph4",children:[Object(h.jsx)("img",{alt:"pokemon",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(a,".png")}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:t}),Object(h.jsx)("h3",{children:"Level: ".concat(n)})]})]})},g=function(e){var t=e.name,a=e.value;return Object(h.jsxs)("div",{className:"flex justify-between ph2 grow",children:[Object(h.jsx)("h4",{className:"pv2 ph4 ma0 ",children:"".concat(t,": ")}),Object(h.jsx)("p",{className:"pv2 ph4 ma0",children:a})]})},y=function(e){var t=e.name,a=e.type,n=e.power,r=e.accuracy,s=e.levelLearnedAt;return Object(h.jsxs)("div",{className:"flex flex-column pa1 grow",children:[Object(h.jsx)("h3",{className:"ma0 pv2",children:t.toUpperCase()}),Object(h.jsxs)("div",{className:"flex justify-between ph2",children:[Object(h.jsx)("p",{className:"ph2 ma0",children:"Learned at LV: ".concat(s)}),Object(h.jsx)("p",{className:"ph2 ma0",children:a})]}),Object(h.jsxs)("div",{className:"flex justify-between ph2",children:[Object(h.jsx)("p",{className:"ph2 ma0",children:"Power: ".concat(n)}),Object(h.jsx)("p",{className:"ph2 ma0",children:"Accuracy: ".concat(r,"%")})]})]})},j=function(e){var t=e.pokemon;return Object(h.jsxs)("div",{className:"flex justify-center items-center tc bg-light-green br3 pa4 ma1 dib bw2 shadow-5",children:[Object(h.jsx)(f,{name:t.name,id:t.id,level:t.level}),Object(h.jsx)("div",{children:t.currentStats.map((function(e,t){return Object(h.jsx)(g,{name:e.name,value:e.value},"".concat(e.name).concat(t))}))}),Object(h.jsx)("div",{className:"flex flex-wrap justify-center",children:t.currentMovesList.map((function(e,t){return Object(h.jsx)(y,{name:e.name,type:e.type,power:e.power,accuracy:e.accuracy,levelLearnedAt:e.levelLearnedAt},"".concat(e.name).concat(t))}))})]})},k={name:"Pikachu",id:25,level:35,baseExperience:112,currentExperience:42875,baseStats:[{name:"hp",value:35},{name:"attack",value:55},{name:"defense",value:40},{name:"special-attack",value:50},{name:"special-defense",value:50},{name:"speed",value:90}],currentStats:[{name:"hp",value:69},{name:"attack",value:43},{name:"defense",value:33},{name:"special-attack",value:40},{name:"special-defense",value:40},{name:"speed",value:68}],learnedMovesList:[{name:"thunder-shock",levelLearnedAt:1,accuracy:100,power:40,type:"electric",damageClass:"special"},{name:"slam",levelLearnedAt:20,accuracy:75,power:80,type:"normal",damageClass:"physical"},{name:"agility",levelLearnedAt:33,accuracy:null,power:null,type:"psychic",damageClass:"status"},{name:"quick-attack",levelLearnedAt:16,accuracy:100,power:40,type:"normal",damageClass:"physical"},{name:"light-screen",levelLearnedAt:50,accuracy:null,power:null,type:"psychic",damageClass:"status"},{name:"tail-whip",levelLearnedAt:6,accuracy:100,power:null,type:"normal",damageClass:"status"},{name:"thunder-wave",levelLearnedAt:9,accuracy:90,power:null,type:"electric",damageClass:"status"},{name:"thunder",levelLearnedAt:43,accuracy:70,power:110,type:"electric",damageClass:"special"},{name:"growl",levelLearnedAt:1,accuracy:100,power:null,type:"normal",damageClass:"status"},{name:"play-nice",levelLearnedAt:7,accuracy:null,power:null,type:"normal",damageClass:"status"},{name:"electro-ball",levelLearnedAt:18,accuracy:100,power:null,type:"electric",damageClass:"special"},{name:"spark",levelLearnedAt:26,accuracy:100,power:65,type:"electric",damageClass:"physical"},{name:"discharge",levelLearnedAt:37,accuracy:100,power:80,type:"electric",damageClass:"special"},{name:"feint",levelLearnedAt:29,accuracy:100,power:30,type:"normal",damageClass:"physical"},{name:"swift",levelLearnedAt:26,accuracy:null,power:60,type:"normal",damageClass:"special"},{name:"nuzzle",levelLearnedAt:23,accuracy:100,power:20,type:"electric",damageClass:"physical"}],currentMovesList:[{name:"spark",levelLearnedAt:26,accuracy:100,power:65,type:"electric",damageClass:"physical"},{name:"feint",levelLearnedAt:29,accuracy:100,power:30,type:"normal",damageClass:"physical"},{name:"swift",levelLearnedAt:26,accuracy:null,power:60,type:"normal",damageClass:"special"},{name:"nuzzle",levelLearnedAt:23,accuracy:100,power:20,type:"electric",damageClass:"physical"}],spriteList:[{name:"back_default",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/25.png"},{name:"back_female",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/female/25.png"},{name:"back_shiny",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/shiny/25.png"},{name:"back_shiny_female",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/shiny/female/25.png"},{name:"front_default",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png"},{name:"front_female",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/female/25.png"},{name:"front_shiny",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/25.png"},{name:"front_shiny_female",url:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/female/25.png"}],types:[{name:"electric",url:"https://pokeapi.co/api/v2/type/13/"}]},x=function(){function e(t,a){Object(p.a)(this,e),this.level="number"===typeof a?a:parseInt(a,10),this.name="",this.id="",this.url="https://pokeapi.co/api/v2/pokemon/".concat(t),this.learnedMovesList=[],this.currentMovesList=[],this.types=[],this.damage=0,this.currentHealth=100,this.baseStats=[],this.currentStats=[],this.abilities=[],this.spriteList=[]}return Object(m.a)(e,[{key:"giveExperience",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?1:1.5;return this.baseExperience*this.level*t/7}}]),e}();function w(e){return L.apply(this,arguments)}function L(){return L=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={allowableMovesList:[],learnedMovesList:[]},e.next=3,Promise.all(t.moves.map(function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.move.url,e.next=3,fetch(a);case 3:return e.next=5,e.sent.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a.allowableMovesList=e.sent,a.learnedMovesList=t.moves.reduce((function(e,t,n){var r=t.version_group_details[0].level_learned_at;if(0!==r){var s={name:t.move.name,levelLearnedAt:parseInt(r,10),accuracy:parseInt(a.allowableMovesList[n].accuracy,10),power:parseInt(a.allowableMovesList[n].power,10),type:a.allowableMovesList[n].type.name,damageClass:a.allowableMovesList[n].damage_class.name};e.push(s)}return e}),[]).sort((function(e,t){return e.levelLearnedAt-t.levelLearnedAt})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function O(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(i.a.mark((function e(t){var a,n,r,s,l,c,o,u,p,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,e.next=3,fetch(t.species.url);case 3:return e.next=5,e.sent.json();case 5:return n=e.sent,e.next=8,fetch(n.evolution_chain.url);case 8:return e.next=10,e.sent.json();case 10:if(r=e.sent,s={},r.chain.evolves_to.length>0){l=r.chain,c=1,o="",u=[],p=2;do{p=l.evolves_to.length>0?2:1,o=p>1?l.evolves_to[0].evolution_details[0].trigger.name:"",m={stageNumber:c,stageName:l.species.name,stageUrl:""},o?(m.evolutionType=o,m.evolutionTrigger="use-item"===o?l.evolves_to[0].evolution_details[0].item.name:l.evolves_to[0].evolution_details[0].min_level,m.evolveToName=l.evolves_to[0].species.name,m.evolveToUrl="https://pokeapi.co/api/v2/pokemon/".concat(m.evolveToName)):(m.evolutionType="Final Stage",m.evolutionTrigger="Final Stage",m.evolveToName="Final Stage",m.evolveToUrl="Final Stage"),m.stageUrl="https://pokeapi.co/api/v2/pokemon/".concat(m.stageName),u.push(m),c++,l=l.evolves_to[0],p--}while(p>0);s.currentEvolutionStage=u.find((function(e){return e.stageName===a})),s.evolutionType=s.currentEvolutionStage.evolutionType,s.evolutionTrigger=s.currentEvolutionStage.evolutionTrigger,s.nextStage=u[s.currentEvolutionStage.stageNumber]?u[s.currentEvolutionStage.stageNumber]:""}return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return e.types.map((function(e){return{name:e.type.name,url:e.type.url}}))}function P(e,t){return e.reduce((function(e,a){return a.levelLearnedAt<=t&&e.push(a),e.length>4&&e.shift(),e}),[])}function N(e,t){var a={baseStats:[],currentStats:[]};return a.baseStats=e.stats.map((function(e){return{name:e.stat.name,value:parseInt(e.base_stat)}})),a.currentStats=a.baseStats.map((function(e,n){var r=a.baseStats[n].value,s=t,l=e.name;return{name:l,value:"hp"===l?Math.floor(2*r*s/100+s+10):Math.floor(2*r*s/100+5)}})),a}function C(e){var t=[];for(var a in e.sprites){var n=a,r={name:n,url:e.sprites[a]};"versions"!==n&&"other"!==n&&t.push(r)}return t}function _(){return(_=Object(u.a)(i.a.mark((function e(t,a){var n,r,s,l,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new x(t,a),e.prev=1,r="https://pokeapi.co/api/v2/pokemon/".concat(t),e.next=5,fetch(r);case 5:return s=e.sent,e.next=8,s.json();case 8:return l=e.sent,e.next=11,fetch(l.species.url);case 11:return e.next=13,e.sent.json();case 13:return n.speciesData=e.sent,e.next=16,fetch(n.speciesData.evolution_chain.url);case 16:return e.next=18,e.sent.json();case 18:return n.evolutionData=e.sent,n.data=l,n.name=l.name,n.id=l.id,n.level="number"===typeof a?a:parseInt(a,10),n.baseExperience=l.base_experience,n.currentExperience=Math.pow(n.level,3),e.next=27,w(n.data);case 27:return c=e.sent,n.allowableMovesList=c.allowableMovesList,n.learnedMovesList=c.learnedMovesList,n.currentMovesList=P(n.learnedMovesList,n.level),o=N(n.data,n.level),n.baseStats=o.baseStats,n.currentStats=o.currentStats,n.types=A(n.data),n.spriteList=C(l),e.next=38,O(n.data);case 38:return u=e.sent,n.currentStage=u.currentEvolutionStage,n.evolutionType=u.evolutionType,n.evolutionTrigger=u.evolutionTrigger,n.nextStage=u.nextStage,e.abrupt("return",n);case 46:return e.prev=46,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 50:return e.prev=50,console.log(n),e.finish(50);case 53:case"end":return e.stop()}}),e,null,[[1,46,50,53]])})))).apply(this,arguments)}var I=function(e,t){return _.apply(this,arguments)},M=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).updateDisplay=function(t){var a=t.target.id,n=t.target.value,r=e.state,s=r.identifierField,l=r.levelField;if(console.log("identifierField: ",s),console.log("levelField: ",l),console.log("event: ",t),console.log("event.target.value: ",t.target.value),"searchIdentifier"===a){var c=n.toLowerCase();e.setState({identifierField:c})}else if("searchLevel"===a){var o="number"===typeof n?n:parseInt(n,10);e.setState({levelField:o})}else console.log("event: ",t);console.log("this.state: ",e.state)},e.submitInput=Object(u.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.levelField>0&&e.state.levelField<=100)){t.next=13;break}if(a=e.state,n=a.identifierField,r=a.levelField,t.prev=2,!(e.state.levelField>0&&e.state.identifierField.length>0)){t.next=6;break}return t.next=6,e.setNewPokemon(n,r);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log("oops: ",t.t0);case 11:t.next=14;break;case 13:alert("Sorry, a Pokemon's level must be from 1 - 100");case 14:case"end":return t.stop()}}),t,null,[[2,8]])}))),e.levelUp=function(){var t=Object.assign({},e.state.displayPokemon);t.level++;var a=t.currentStats.slice(),n=t.baseStats.slice(),r=a.map((function(e,a){var r={name:"",value:0},s=n[a].value;return r.name=e.name,"hp"===r.name?r.value=Math.floor(2*s*t.level/100+t.level+10):r.value=Math.floor(2*s*t.level/100+5),r}));t.currentStats=r,e.setState({displayPokemon:t,levelField:t.level})},e.state={identifierField:"",levelField:0,displayPokemon:k,pokemonList:[k]},e}return Object(m.a)(a,[{key:"setNewPokemon",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,a);case 2:n=e.sent,console.log(n),n?(this.setState({pokemonList:[].concat(Object(c.a)(this.state.pokemonList),[n])}),this.setState({displayPokemon:n})):"number"===typeof t?alert("Sorry, ".concat(t," is not a valid Pokemon Number")):alert("Sorry, ".concat(t," is not a valid Pokemon Name"));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App mw7 center",children:[Object(h.jsx)(b,{updateDisplay:this.updateDisplay,submitInput:this.submitInput,levelUp:this.levelUp}),Object(h.jsx)(j,{pokemon:this.state.displayPokemon})]})}}]),a}(n.Component),F=M,T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,21)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),s(e),l(e)}))};a(19);l.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root")),T()}},[[20,1,2]]]);
//# sourceMappingURL=main.d478ef27.chunk.js.map